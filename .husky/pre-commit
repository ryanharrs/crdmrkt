#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check if package-lock.json is in sync with package.json
if [ -f package.json ] && [ -f package-lock.json ]; then
  echo "Checking package-lock.json sync..."
  npm ci --dry-run > /dev/null 2>&1
  if [ $? -ne 0 ]; then
    echo "❌ package-lock.json is out of sync with package.json"
    echo "Run 'npm install' to fix this before committing"
    exit 1
  fi
  echo "✅ package-lock.json is in sync"
fi
